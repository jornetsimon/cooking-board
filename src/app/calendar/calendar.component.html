<div class="my-2" *ngIf="events$ | async as events; else loadingTpl">
	<div>{{ events.length }} events</div>
	<div class="flex flex-col items-start gap-2">
		<div
			*ngFor="let event of events; trackBy: trackByEvent"
			class="rounded p-2"
			[style.background-color]="event.calendar.backgroundColor"
			[style.color]="event.calendar.foregroundColor"
		>
			<div class="flex gap-3">
				<span>
					{{ event.start.date || event.start.dateTime | date: 'dd/MM/yyyy' }}
				</span>
				<span *ngIf="event.start.dateTime">
					{{ event.start.dateTime | date: "HH'h'mm" }}
				</span>
				{{ event.summary }}
				<span class="border rounded px-1 py-0.5 text-sm" *ngIf="event.end.dateTime">
					=> {{ event.end.dateTime | date: "HH'h'mm" }}
				</span>
			</div>
			<!--<pre>{{ events | json }}</pre>-->
		</div>
	</div>
</div>
<ng-template #loadingTpl>
	<mat-spinner [diameter]="20"></mat-spinner>
</ng-template>
